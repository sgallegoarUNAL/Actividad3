package tercertaller.ejerciciopn18;

import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;

public class EjercicioPN18 {
    public static void main(String[] args) {
        // Crear el marco de la ventana
        JFrame frame = new JFrame();
        frame.setSize(400, 300);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setLayout(new GridLayout(7, 2));

        JLabel lblCodigo = new JLabel("Código del empleado:");
        JTextField txtCodigo = new JTextField();
        
        JLabel lblNombre = new JLabel("Nombre del empleado:");
        JTextField txtNombre = new JTextField();
        
        JLabel lblRazonHora = new JLabel("Razón por hora:");
        JTextField txtRazonHora = new JTextField();
        
        JLabel lblHorasTrabajo = new JLabel("Número de horas trabajadas:");
        JTextField txtHorasTrabajo = new JTextField();
        
        JLabel lblPorcentajeRetencion = new JLabel("Porcentaje de retención:");
        JTextField txtPorcentajeRetencion = new JTextField();
        
        JButton btnCalcular = new JButton("Calcular");
        JTextArea txtResultados = new JTextArea();
        txtResultados.setEditable(false);

        frame.add(lblCodigo);
        frame.add(txtCodigo);
        frame.add(lblNombre);
        frame.add(txtNombre);
        frame.add(lblRazonHora);
        frame.add(txtRazonHora);
        frame.add(lblHorasTrabajo);
        frame.add(txtHorasTrabajo);
        frame.add(lblPorcentajeRetencion);
        frame.add(txtPorcentajeRetencion);
        frame.add(new JLabel());
        frame.add(btnCalcular);
        frame.add(new JLabel("Resultados:"));
        frame.add(new JScrollPane(txtResultados));

        btnCalcular.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                try {
                    int codigo = Integer.parseInt(txtCodigo.getText());
                    String nombre = txtNombre.getText();
                    double razonHora = Double.parseDouble(txtRazonHora.getText());
                    double horasTrabajo = Double.parseDouble(txtHorasTrabajo.getText());
                    double porcentajeRetencion = Double.parseDouble(txtPorcentajeRetencion.getText());

                    double salarioBruto = horasTrabajo * razonHora;
                    double retencion = salarioBruto * (porcentajeRetencion / 100);
                    double salarioNeto = salarioBruto - retencion;

                    String resultados = String.format(
                        "Código del empleado: %d\n" +
                        "Nombre del empleado: %s\n" +
                        "Salario bruto: %.2f\n" +
                        "Salario neto: %.2f",
                        codigo, nombre, salarioBruto, salarioNeto
                    );
                    txtResultados.setText(resultados);

                } catch (NumberFormatException ex) {
                    JOptionPane.showMessageDialog(frame, "Por favor, ingrese valores válidos.", "Error", JOptionPane.ERROR_MESSAGE);
                }
            }
        });
        frame.setVisible(true);
    }
}  
